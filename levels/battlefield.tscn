[gd_scene load_steps=10 format=3 uid="uid://clkgmgaucwtko"]

[ext_resource type="Script" path="res://levels/battlefield.gd" id="1_twrda"]
[ext_resource type="PackedScene" uid="uid://cbkh36rk3na08" path="res://scenes/battlefield_player/battlefield_player.tscn" id="3_gcjw7"]
[ext_resource type="Script" path="res://addons/zylann.hterrain/hterrain.gd" id="5_0do8u"]
[ext_resource type="PackedScene" uid="uid://2pv53nmfjq8s" path="res://scenes/ui/spellcaster.tscn" id="6_jiwv4"]
[ext_resource type="Resource" path="res://levels/terrain/data.hterrain" id="6_nw61g"]
[ext_resource type="Script" path="res://addons/zylann.hterrain/hterrain_texture_set.gd" id="7_g2rbh"]
[ext_resource type="AudioStream" uid="uid://bpmm2fhu4icey" path="res://assets/music/Battle Highlands.mp3" id="7_upncm"]
[ext_resource type="PackedScene" uid="uid://dj3v8o487ruhf" path="res://scenes/projectile/projectile.tscn" id="8_ihird"]

[sub_resource type="Resource" id="Resource_li51c"]
script = ExtResource("7_g2rbh")
mode = 0
textures = [[], []]

[node name="Battlefield" type="Node3D"]
script = ExtResource("1_twrda")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.130684, -0.927124, 0.351231, -0.180929, 0.370622, 0.910991, -0.974775, 0.0555042, -0.216178, -415.954, 279.873, -0.209808)
light_color = Color(0.729412, 0.729412, 1, 1)
light_energy = 2.089
light_indirect_energy = 7.079

[node name="BattlefieldPlayer" parent="." node_paths=PackedStringArray("spellcaster") instance=ExtResource("3_gcjw7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.43266, 0)
spellcaster = NodePath("../Spellcaster")
projectile = ExtResource("8_ihird")

[node name="AudioRemoteTransform" type="RemoteTransform3D" parent="BattlefieldPlayer"]
remote_path = NodePath("../../Spellcaster/SpellcastAudioPlayer")

[node name="HTerrain" type="Node3D" parent="."]
script = ExtResource("5_0do8u")
centered = true
_terrain_data = ExtResource("6_nw61g")
chunk_size = 32
collision_enabled = true
collision_layer = 1
collision_mask = 1
shader_type = "Classic4Lite"
custom_shader = null
custom_globalmap_shader = null
texture_set = SubResource("Resource_li51c")
render_layers = 1
cast_shadow = 1
shader_params/u_ground_uv_scale = 20
shader_params/u_depth_blending = true
shader_params/u_triplanar = null
shader_params/u_tile_reduction = null

[node name="Spellcaster" parent="." instance=ExtResource("6_jiwv4")]

[node name="SpellcastAudioPlayer" parent="Spellcaster" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.43266, 0)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("7_upncm")
volume_db = -9.0
autoplay = true

[connection signal="spell_casted" from="Spellcaster" to="BattlefieldPlayer" method="_on_spellcaster_spell_casted"]

[editable path="Spellcaster"]
